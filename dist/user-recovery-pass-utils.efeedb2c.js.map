{"version":3,"sources":["../../../ts/validate/validate.ts","../../../ts/validate/InputWrapper.ts","../../../ts/validate/index.ts","../../../ts/config/index.ts","../../ts/validate-fns.ts","../../../ts/utils/listCheck.ts","../../ts/user-recovery-pass-utils.ts"],"names":[],"mappings":";;;;;AGCa,OAAA,CAAA,IAAA,GAAe,wCAAf;AEDb,AJAA,ADEA,AIAA,IHFA,KIAgB,ALEA,AIAA,IAAhB,CAAqB,ECFrB,AJAA,CIAwB,ALExB,CAAyB,AIAzB,CHFA,CIAA,ADEuC,ECFO,CLE9C,EAA8C,EAA9C,EAA+F,ECF/F;AICI,AJEA,ADD6F,AIC7F,MCFI,ALCyF,AICzF,CAAC,GJDwF,CCC7F,AGAS,CAAC,CCFC,ALCkF,EAAA,CKD/E,CDEd,EAAiB,CCFjB,GJEA,CAA4B,EAA5B,EAAgD;AIAhD,AJA4B,AGCxB,ECDJ,GAAG,CAAC,GJAwB,EAAA,AGCjB,ECDX,CAAY,AJAgB,EAAA,QIAhB,EAAA,EAAE,IDCV;ACAA,AJAA,AGCH,OJH4F,CKErF,CAAC,AJAA,EIAE,ALFkF,EKEzF,ALFyF,EKE9E,AJAX,CDFyF,ECE9D,CDF8D,CCE5D,CAAC,ADF2D,GAAA,SAAA,CAAA,KCEzF,GDFyF,EAAA,IAAY;AKGjG,AJAP,ADH4F,IAAA,EKGrF,ELHqF,CAAA,EAAA,EKG9E,CLH8E,CAAA,CKG3E,ALH2E,GAAA,EKGrF,OLHqF,CAAA,EAAA,CAAA;AKIxF,ADCL,SAAO,IAAP;ACAC,AJAM,ACPX,AEQC,EHDU,CIJP,KHHJ,CAAA,KDOW,CAAA,CCPX,CAAA,ODOW,CAAA,ICPX,CAAA,CAAA,EDOW,GAAP,UAAgB,KAAhB,EAAgC,GAAhC,EAA4C;AIE5C,AJAI,ADLJ,MAAM,GKKC,AJAE,EAAL,CAAQ,ADLA,GAAG,CKKf,KJAI,CAAkB,EDLhB,ICKF,CAAyB,CDLd,GAAA,MCKX;AICP,AJAO,ACTR,AFIQ,AIHR,OAAA,CFDA,AFIc,AIHd,CHQa,ACTb,EDSQ,ADLS,CCKD,AGRhB,EJGoB,CIHpB,CFDA,AFIsB,CEJtB,AFIsB,EIHtB,EHQQ,CAAkB,ADLN,CAAE,KCKd,ADLc,CCKW,ADLb,EAAE,CAAC,CEJvB,CAAA,CAAA,EFIsB,EAAM,ECKpB,IDLc,CAAW,IAAX,CAAF,CAAZ;ACOA,SAAK,EAAL,CAAQ,SAAR,CAAkB,GAAlB,CAAsB,KAAK,GAAG,UAAH,GAAgB,YAA3C;AIZR,AJcQ,ADPA,AMPR,AFUA,IEVA,GDAA,CAAA,ALOY,CCOC,AGJG,EJHR,AMPR,ENOiB,AIGjB,CEVA,AFUqB,CCVrB,AJcQ,CAAY,EIdpB,ADUA,EAAuC,CEVvC,CAAA,GDAA,AJcQ,GAAwB,KAAK,GACvB,IKfd,CAAA,WLcqC,GAEvB,kBAFN;AAIA,ADVI,AIGR,MJHQ,AIGF,EHOE,GAAG,ADVE,CAAC,GIGC,CHOC,EGPE,EJHV,CAAe,CIGD,GHOlB,CDVI,AIGU,CHOS,AGPA,CJHG,GAAtB,AIGuB,CHOC,AGPA,KAAd,CHOS,AGP3B,CHOuC,GAAZ;AAE1B,ADVO,AMTZ,AFYI,GHNO,CKNX,EFYU,GAAG,EEZb,CFYgB,CJHG,CMTnB,INSY,GMTZ,AFYyB,CEZzB,AFY0B,OAAV,EAAZ,OEZJ,CAAA;ANUS,AIGL,MAAM,KAAK,GAAG,SAAS,CAAC,QAAV,EAAd;AHQO,AKpBX,AFaI,EHOO,EKpBX,EFaU,CEbV,GAAA,AFac,GAAG,CHON,CAAA,OKpBX,AFa0B,CEb1B,AFa2B,CHOhB,CAAA,KKpBX,CLoBW,AKpBX,GLoBI,AGPa,EAAb,QHOc,GAAd,AKpBJ,CAAA,CLoB6B,AKpB7B;ALqBQ,ADVA,AIIJ,IJJI,EIIA,GHMK,ADVA,CAAC,EIIA,GHMN,AGNS,CHMG,EDVZ,CAAe,AIInB,IJJI,EAAqB,ECUrB,ADVA,GCU0B,GAA1B;AACH,ADVG,AMXR,AFgBI,GHGO,CKnBX,EFgBQ,KJLO,AIKF,CAAC,GJLN,AMXR,AFgBa,CAAL,EEhBR,EFgBsB,KEhBtB,AFgB2B,CEhB3B,AFgB4B,KAAD,CAAnB,IAA8B,KAAK,CAAC,GEhB5C,CAAA,AFgB2C,CAAvC,EAA+C,MAAM,GAAG,KAAT;AJJ9C,AIKD,GJhBA,GIgBI,CAAC,KAAK,GAAG,CAAR,IAAa,CAAb,IAAkB,KAAK,GAAG,CAAR,IAAa,CAA/B,IAAoC,KAAK,GAAG,CAAR,IAAa,CAAjD,IAAsD,KAAK,GAAG,CAAR,IAAa,EAApE,KAA2E,GAAG,GAAG,EAArF,EAAyF,MAAM,GAAG,KAAT;AHMzF,AKnBJ,AFcI,EHKA,EKnBE,EFcG,EHKL,CAAA,CGLS,GEdE,AFcC,CAA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","file":"user-recovery-pass-utils.efeedb2c.js","sourceRoot":"..","sourcesContent":["import { InputWrapper } from \"./InputWrapper\";\r\n\r\nexport function validate(input: InputWrapper, fn: (input: InputWrapper, ...opts: any) => string, ...opts: any): () => boolean {\r\n\r\n    const handle = function () {\r\n        const msg = fn(input, ...opts)\r\n\r\n        if (msg) {\r\n            input.setValid(false, msg)\r\n\r\n            return false\r\n        }\r\n\r\n        input.setValid(true, '')\r\n        return true\r\n    }\r\n\r\n    input.el.addEventListener('input', handle)\r\n\r\n    return handle\r\n}","export class InputWrapper {\r\n    public readonly msgDiv: HTMLElement\r\n\r\n    constructor(public readonly el: HTMLInputElement) {\r\n        this.msgDiv = <HTMLElement>el.nextElementSibling\r\n    }\r\n\r\n    public setValid(valid: boolean, msg?: string): void {\r\n\r\n        this.el.classList.remove('is-valid')\r\n        this.el.classList.remove('is-invalid')\r\n\r\n        this.el.classList.add(valid ? 'is-valid' : 'is-invalid')\r\n\r\n        this.msgDiv.className = valid\r\n            ? 'valid-feedback'\r\n            : 'invalid-feedback'\r\n\r\n        if (msg !== undefined) this.setMsg(msg)\r\n\r\n    }\r\n\r\n    public setMsg(msg: string): void {\r\n        this.msgDiv.textContent = msg\r\n    }\r\n\r\n    get value() {\r\n        return this.el.value\r\n    }\r\n\r\n    public static fromId(id: string): InputWrapper {\r\n        return new InputWrapper(<HTMLInputElement>document.getElementById(id))\r\n    }\r\n}\r\n","export * from './validate'\r\nexport * from './InputWrapper'","// export const HOST = 'https://semcontrato.herokuapp.com/';\r\nexport const HOST: string = 'https://100contrato.azurewebsites.net/';\r\n\r\n// export const HOST = 'http://localhost:3000/';","import { InputWrapper } from './validate/index'\r\n\r\nexport function code(code: InputWrapper): string {\r\n    if (!code.value) {\r\n        return 'Código obrigatório.'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport function date(date: InputWrapper): string {\r\n    const inputDate = new Date(date.value)\r\n\r\n    const day = inputDate.getDate()\r\n    const month = inputDate.getMonth()\r\n    const year = inputDate.getFullYear()\r\n\r\n    let isDate = true\r\n\r\n    if (isNaN(day) || isNaN(month) || isNaN(year)) isDate = false\r\n    if ((month + 1 == 4 || month + 1 == 6 || month + 1 == 9 || month + 1 == 11) && day > 30) isDate = false\r\n    if ((year % 4) != 0 && month + 1 == 2 && day + 1 > 28) isDate = false\r\n    if ((year % 4) == 0 && month + 1 == 2 && day + 1 > 29) isDate = false\r\n\r\n    if (!isDate) {\r\n        return 'Data inválida.'\r\n    }\r\n\r\n    if (inputDate > new Date()) {\r\n        return 'Obrigatório já ter nascido.'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport function email(email: InputWrapper): string {\r\n    if (!email.value) {\r\n        return 'Email vazio.'\r\n    } else if (!/^[a-zA-Z0-9][a-zA-Z0-9\\._-]+@([a-zA-Z0-9_-])+(\\.([a-zA-Z0-9_-])+)+$/.test(email.value)) {\r\n        return 'Email inválido. Exemplo: abc123@def.gh'\r\n    }\r\n}\r\n\r\nexport function lastName(lastName: InputWrapper): string {\r\n    if (!(lastName.value.length > 2)) {\r\n        return 'Sobrenome muito curto.'\r\n    } else if (!/[A-Z]([a-z]|\\s)+$/.test(lastName.value)) {\r\n        return 'Sobrenome inválido: Use uma letra maiúscula seguida de letras minúsculas.'\r\n    } else if (/\\s\\s/.test(lastName.value)) {\r\n        return 'Sobrenome inválido: Dois ou mais espaços consecutivos.'\r\n    } else if (/\\s[A-z]\\s/.test(lastName.value)) {\r\n        return 'Sobrenome inválido: Caracter solitário :(.'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport function name(name: InputWrapper): string {\r\n    if (!(name.value.length > 2)) {\r\n        return 'Nome muito curto.'\r\n    } else if (!/[A-Z]([a-z]|\\s)+$/.test(name.value)) {\r\n        return 'Nome inválido: Use uma letra maiúscula seguida de letras minúsculas.'\r\n    } else if (/\\s\\s/.test(name.value)) {\r\n        return 'Nome inválido: Dois ou mais espaços consecutivos.'\r\n    } else if (/\\s[A-z]\\s/.test(name.value)) {\r\n        return 'Nome inválido: Caracter solitário :(.'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport function password(pw: InputWrapper): string {\r\n    if (pw.value.length < 6 || pw.value.length > 8) {\r\n        return 'Senha deve ter tamanho entre 6 e 8 dígitos.'\r\n    } else if (pw.value.indexOf(' ') !== -1) {\r\n        return 'Senha não pode conter espaços.'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport function passwordConfirm(pw: InputWrapper, confirm: InputWrapper): string {\r\n    if (!pw.value) {\r\n        return 'Confirmação obrigatória.'\r\n    } else if (pw.value !== confirm.value) {\r\n        return 'Senhas não batem'\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nconst ALLOWED_EXTS = ['png', 'jpg', 'jpeg']\r\nexport function photo(file: InputWrapper): string {\r\n    if (!file.value) {\r\n        return 'Imagem obrigatória.'\r\n    }\r\n\r\n    const fileExt = file.value.split('.').pop()\r\n\r\n    if (ALLOWED_EXTS.indexOf(fileExt) === -1) {\r\n        return 'Formato de arquivo de imagem inválido.'\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function username(username: InputWrapper): string {\r\n    if (!(username.value.length > 2)) {\r\n        return 'Nome de usuário muito curto.'\r\n    } else if (!/^([a-zA-Z0-9]|_|\\$|@|\\-|\\.)+$/.test(username.value)) {\r\n        return 'Nome de usuário inválido: Somente são permitidos caracteres alfanuméricos e os especiais \"_$@-.\".'\r\n    }\r\n}\r\n\r\nexport function yesterday(first: InputWrapper): string {\r\n    if (!(first.value.length > 3)) {\r\n        return 'Descrição muito pequena.'\r\n    } else if (!/^([a-zA-Z0-9]|_|\\$|@|\\-|\\.)+$/.test(first.value)) {\r\n        return 'Nome de daily inválido: Somente são permitidos caracteres alfanuméricos e os especiais \"_$@-.\".'\r\n    }\r\n}\r\n\r\nexport function today(today: InputWrapper): string {\r\n    if (!(today.value.length > 3)) {\r\n        return 'Descrição muito pequena.'\r\n    } else if (!/^([a-zA-Z0-9]|_|\\$|@|\\-|\\.)+$/.test(today.value)) {\r\n        return 'Nome de daily inválido: Somente são permitidos caracteres alfanuméricos e os especiais \"_$@-.\".'\r\n    }\r\n}\r\n\r\nexport function impediment(third: InputWrapper): string {\r\n    if (!(third.value.length > 3)) {\r\n        return 'Descrição muito pequena.'\r\n    } else if (!/^([a-zA-Z0-9]|_|\\$|@|\\-|\\.)+$/.test(third.value)) {\r\n        return 'Nome de daily inválido: Somente são permitidos caracteres alfanuméricos e os especiais \"_$@-.\".'\r\n    }\r\n}","export function noFalse(fns: (() => boolean)[]): boolean {\r\n    let isValid = true\r\n\r\n    fns.forEach(fn => {\r\n        if (!fn()) {\r\n            isValid = false\r\n        }\r\n    })\r\n\r\n    return isValid\r\n}","import { validate, InputWrapper } from './validate/index'\r\nimport { HOST } from './config/index'\r\nimport * as val from './validate-fns'\r\nimport { noFalse } from './utils/listCheck';\r\n\r\ndeclare const grecaptcha: any;\r\n\r\nconst codeInput = InputWrapper.fromId('code')\r\nconst emailInput = InputWrapper.fromId('email_rec')\r\nconst passwordInput = InputWrapper.fromId('password_rec')\r\nconst passwordConfirmInput = InputWrapper.fromId('password_rec_conf')\r\n\r\nconst valFns = [\r\n    validate(codeInput, val.code),\r\n    validate(emailInput, val.email),\r\n    validate(passwordInput, val.password),\r\n    validate(passwordConfirmInput, val.passwordConfirm, passwordInput),\r\n]\r\n\r\n// handle submit\r\nconst form: HTMLFormElement = <HTMLFormElement>document.getElementById('recovery-code-form')\r\nform.addEventListener('submit', (event: Event) => {\r\n    event.preventDefault()\r\n\r\n    if (noFalse(valFns)) {\r\n\r\n        grecaptcha.ready(function () {\r\n\r\n            grecaptcha.execute('6LemuakUAAAAALHHE5_7NL8FwKzEvCXLXzUUqahn', { action: 'user_pass_rec_2' })\r\n                .then(function (token: string) {\r\n\r\n                    let formData = new FormData(form)\r\n                    formData.append('recaptchaToken', token)\r\n\r\n                    fetch(`${HOST}users/code/verify`, {\r\n                        method: 'POST',\r\n                        body: formData\r\n                    })\r\n                        .then(res => res.json())\r\n                        .then(data => {\r\n                            console.log(data)\r\n                            location.replace(\"index.html\")\r\n                        })\r\n                        .catch(console.log)\r\n\r\n                })\r\n        })\r\n\r\n        /*\r\n            $.ajax({\r\n            type: \"POST\",\r\n            url: `${HOST}users/code/verify`,\r\n            data: {\r\n                \"email\": email,\r\n                \"emailCode\": code,\r\n                \"senha\": senha\r\n            },\r\n            success: function (data) {\r\n                alert(\"Senha trocada com sucesso\");\r\n                //qual local ir?\r\n                window.location.href = \"index.html\";\r\n            },\r\n            error: function (request, status, error) {\r\n                console.log(error);\r\n                alert(request.responseText);\r\n                alert(erro);\r\n            }\r\n        });*/\r\n\r\n    }\r\n})"]}